<script>
  const url =
    'https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLAnchorElement?姓名=胡晨曦&age=2#browser_compatibility'

  function parseUrl(url) {
    const dummyNode = document.createElement('a')
    dummyNode.href = url
    return parseSearch(dummyNode.search)
  }

  function parseSearch(serch) {
    if (serch.indexOf('?') == -1) return {}
    serch = serch.slice(1)
    const keyAndValueArr = serch.split('&')
    return keyAndValueArr.reduce((prev, curr) => {
      let [key, value] = curr.split('=')
      key = decodeURIComponent(key)
      value = decodeURIComponent(value)

      return Object.assign(prev, {
        [key]: value,
      })
    }, {})
  }

  console.log(parseUrl(url))
</script>
