<script>
  // url: http://www.baidu.com:80/home/index.html?name=foo&age=1#name
  /**
   * @param url{string}
   */
  const url =
    'http://www.baidu.com:80/home/index.html?name=foo&age=1#name'
  function handleUrl(url) {
    const len = url.length
    const urlObj = {
      protocol: '',
      domin: '',
      prot: '',
      path: '',
      query: '',
      hash: '',
    }
    // 定位到 protocol
    let protocolIndex = url.indexOf('://')
    if (protocolIndex !== -1) {
      urlObj.protocol = url.slice(0, protocolIndex)
    }
    // 定位到domin & prot
    let dominStart
    if (protocolIndex === -1) {
      dominStart = 0
    } else {
      dominStart = protocolIndex + 3
    }
    const dominEndIndex = url.indexOf('/', dominStart)
    urlObj.domin = url.slice(dominStart, dominEndIndex)

    void 1
  }
  handleUrl(url)
</script>
