<script>
  function ajax(type, url) {
    return new Promise((resolve, reject) => {
      const xhr = new XMLHttpRequest()
      xhr.open(type, url)
      xhr.addEventListener('load', () => {
        if (xhr.status === 200) {
          resolve(xhr.response)
        } else {
          reject(new Error(xhr.statusText))
        }
      })
      xhr.addEventListener('error', () => {
        reject(xhr.statusText)
      })
      xhr.send()
    })
  }
  ajax('GET', 'baidu.com').then(res => console.log)
</script>
